/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
import{d as doc}from"./index-a5d50daf.js";import{p as pointerCoord}from"./helpers-da915de8.js";var startTapClick=function(e){if(doc===undefined){return}var r=0;var t;var n;var i;var a=e.getBoolean("animated",true)&&e.getBoolean("rippleEffect",true);var f=new WeakMap;var o=function(){if(i)clearTimeout(i);i=undefined;if(t){E(false);t=undefined}};var u=function(e){if(t||e.button===2){return}d(getActivatableTarget(e),e)};var c=function(e){d(undefined,e)};var d=function(e,r){if(e&&e===t){return}if(i)clearTimeout(i);i=undefined;var n=pointerCoord(r),a=n.x,o=n.y;if(t){if(f.has(t)){throw new Error("internal error")}if(!t.classList.contains(ACTIVATED)){v(t,a,o)}E(true)}if(e){var u=f.get(e);if(u){clearTimeout(u);f.delete(e)}e.classList.remove(ACTIVATED);var c=function(){v(e,a,o);i=undefined};if(isInstant(e)){c()}else{i=setTimeout(c,ADD_ACTIVATED_DEFERS)}}t=e};var v=function(e,t,i){r=Date.now();e.classList.add(ACTIVATED);if(!a)return;var f=getRippleEffect(e);if(f!==null){T();n=f.addRipple(t,i)}};var T=function(){if(n!==undefined){n.then((function(e){return e()}));n=undefined}};var E=function(e){T();var n=t;if(!n){return}var i=CLEAR_STATE_DEFERS-Date.now()+r;if(e&&i>0&&!isInstant(n)){var a=setTimeout((function(){n.classList.remove(ACTIVATED);f.delete(n)}),CLEAR_STATE_DEFERS);f.set(n,a)}else{n.classList.remove(ACTIVATED)}};doc.addEventListener("ionGestureCaptured",o);doc.addEventListener("pointerdown",u,true);doc.addEventListener("pointerup",c,true);doc.addEventListener("pointercancel",o,true)};var getActivatableTarget=function(e){if(e.composedPath!==undefined){var r=e.composedPath();for(var t=0;t<r.length-2;t++){var n=r[t];if(!(n instanceof ShadowRoot)&&n.classList.contains("ion-activatable")){return n}}}else{return e.target.closest(".ion-activatable")}};var isInstant=function(e){return e.classList.contains("ion-activatable-instant")};var getRippleEffect=function(e){if(e.shadowRoot){var r=e.shadowRoot.querySelector("ion-ripple-effect");if(r){return r}}return e.querySelector("ion-ripple-effect")};var ACTIVATED="ion-activated";var ADD_ACTIVATED_DEFERS=100;var CLEAR_STATE_DEFERS=150;export{startTapClick};